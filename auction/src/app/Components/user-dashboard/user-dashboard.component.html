<!-- <app-navbar> </app-navbar> -->
<!--============= Dashboard Section Starts Here =============-->
<div class="bg_img hero-bg bottom_center" data-background="assets/images/banner/hero-bg.png"></div>
    <div class="container" style="margin-top: 250px;">
        <div class="row justify-content-center">
            <div class="col-sm-10 col-md-7 col-lg-4">
                <div class="dashboard-widget mb-30 mb-lg-0">
                    <div class="user">
                        <div class="thumb-area">
                            <div class="thumb">
                                <img src="./../../../assets/images/dashboard/user.png" alt="user">
                            </div>
                            <label for="profile-pic" class="profile-pic-edit"><i class="flaticon-pencil"></i></label>
                            <input type="file" id="profile-pic" class="d-none">
                        </div>
                        <div class="content">
                            <h6 class="title">{{uName}}</h6>
                            <button class="btn btn-danger" (click)='Logout()'>Logout</button>
                            
                        </div>
                    </div>
                    <ul class="dashboard-menu">
                        <li>
                            <a [routerLink]="" (click)="HideProfileAndItemData()"><i class="flaticon-dashboard"></i>User Dashboard</a>
                          </li>
                        <li>
                            <a [routerLink]="" (click)="DisplayProfileData()"><i class="flaticon-settings"></i>Personal Profile </a>
                        </li>

                        <li>
                            <a [routerLink]="" (click)="DisplayPaymentMethod()"><i class="flaticon-settings"></i>Payment Method </a>
                        </li>

                        <li>
                            <a [routerLink]="" (click)="DispalyAddNewItem()"><i class="flaticon-settings"></i>Add New Item </a>
                        </li>

                        <li>
                            <a href="my-bid.html"><i class="flaticon-auction"></i>My Bids</a>
                        </li>
                        <li>
                            <a href="winning-bids.html"><i class="flaticon-best-seller"></i>Winning Bids</a>
                        </li>
                        <li>
                            <a href="notifications.html"><i class="flaticon-alarm"></i>My Alerts</a>
                        </li>
                        <!-- <li>
                            <a href="my-favorites.html"><i class="flaticon-star"></i>My Favorites</a>
                        </li>
                        <li>
                            <a href="referral.html"><i class="flaticon-shake-hand"></i>Referrals</a>
                        </li> -->
                    </ul>
                </div>
            </div>
            <div class="col-lg-8">
                <div class="dashboard-widget mb-40" *ngIf="paymentMethodDisplay; else elseBlock2">
                    <div class="dashboard-title mb-30" >
                        <h5 class="title">My Activity</h5>
                    </div>
                    <div class="row justify-content-center mb-30-none"  *ngIf="profileDisplay; else elseBlock">
                        <div class="col-md-4 col-sm-6">
                            <div class="dashboard-item">
                                <div class="thumb">
                                    <img src="./../../../assets/images/dashboard/01.png" alt="dashboard">
                                </div>
                                <div class="content">
                                    <h2 class="title" *ngFor="let item of item.userItems">{{item.numofuseritem}}</h2>
                                    <h6 class="info">Active Bids</h6>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="dashboard-item">
                                <div class="thumb">
                                    <img src="./../../../assets/images/dashboard/02.png" alt="dashboard">
                                </div>
                                <div class="content">
                                    <h2 class="title" *ngFor="let item of item.userItemsBid">{{item.numofuserbids}}</h2>
                                    <h6 class="info">Items Bid</h6>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4 col-sm-6">
                            <div class="dashboard-item">
                                <div class="thumb">
                                    <img src="./../../../assets/images/dashboard/03.png" alt="dashboard">
                                </div>
                                <div class="content">
                                    <h2 class="title" *ngFor="let item of item.userItemsWin">{{item.countofwin}}</h2>
                                    <h6 class="info">Items Won</h6>
                                </div>
                            </div>
                        </div>
                    </div>
                    <ng-template #elseBlock>
                        <app-personal-profile> </app-personal-profile>
                      </ng-template>
                </div>
                <ng-template #elseBlock2>
                    <app-payment-cart> </app-payment-cart>
                  </ng-template>
                  

                <div class="dashboard-widget" *ngIf="newItemDisplay; else elseBlock1">
                    <h5 class="title mb-10">Your Items</h5>
                    <div class="dashboard-purchasing-tabs">
                        <ul class="nav-tabs nav">
                            <li>
                                <a href="#current" class="active" data-toggle="tab">Current</a>
                            </li>
                            <li>
                                <a href="#pending" data-toggle="tab">Your Bids</a>
                            </li>
                            <li>
                                <a href="#history" data-toggle="tab">Ended</a>
                            </li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane show active fade" id="current">
                                <table class="purchasing-table">
                                    <thead>
                                        <th>Item</th>
                                        <th>Bid Price</th>
                                        <th>Highest Bid</th>
                                        <th>Number Of Bids</th>
                                        <th>Expires</th>
                                    </thead>
                                    <tbody>
                                        <ng-container *ngFor="let item of item.all">
                                            <tr *ngIf="item.userId == userId">
                                                <td data-purchase="item">{{item.name}}</td>
                                                <td data-purchase="bid price">${{item.startPrice}}</td>
                                                <td data-purchase="highest bid">${{item.maxPrice}}</td>
                                                <td data-purchase="Number Of Bids">{{item.numOfBids}}</td>
                                                <td data-purchase="expires">{{item.end_Date | date:'MM-dd-yyyy'}}</td>
                                            </tr>
                                        </ng-container>
                                    </tbody>
                                </table>
                            </div>
                            <div class="tab-pane show fade" id="pending">
                                <table class="purchasing-table">
                                    <thead>
                                        <th>Item</th>
                                        <th>Bid Price</th>
                                        <th>Highest Bid</th>
                                        <th>Number Of Bids</th>
                                        <th>Expires</th>
                                    </thead>
                                    <tbody>
                                        <ng-container *ngFor="let item of item.userBids">
                                            <tr *ngIf="item.userId == userId">
                                                <td data-purchase="item">{{item.name}}</td>
                                                <td data-purchase="bid price">${{item.startPrice}}</td>
                                                <td data-purchase="highest bid">${{item.maxPrice}}</td>
                                                <td data-purchase="Number Of Bids">{{item.numOfBids}}</td>
                                                <td data-purchase="expires">{{item.end_Date | date:'MM-dd-yyyy'}}</td>
                                            </tr>
                                        </ng-container>
                                    </tbody>
                                </table>
                            </div>
                            <div class="tab-pane show fade" id="history">
                                <table class="purchasing-table">
                                    <thead>
                                        <th>Item</th>
                                        <th>Bid Price</th>
                                        <th>Highest Bid</th>
                                        <th>Number Of Bids</th>
                                        <th>Expires</th>
                                    </thead>
                                    <tbody>
                                        <ng-container *ngFor="let item of item.EndedItems">
                                            <tr *ngIf="item.userId == userId">
                                                <td data-purchase="item">{{item.name}}</td>
                                                <td data-purchase="bid price">${{item.startPrice}}</td>
                                                <td data-purchase="highest bid">${{item.maxPrice}}</td>
                                                <td data-purchase="Number Of Bids">{{item.numOfBids}}</td>
                                                <td data-purchase="expires">{{item.end_Date | date:'MM-dd-yyyy'}}</td>
                                            </tr>
                                        </ng-container>
                                    </tbody>
                                </table>
                            </div>
                            

                        </div>
                    </div>
                </div>
                <ng-template #elseBlock2>
                    <app-payment-cart> </app-payment-cart>
                  </ng-template>

                <ng-template #elseBlock1>
                    <app-insert-item-form-dialog> </app-insert-item-form-dialog>
                  </ng-template>
            </div>
            
        </div>
        
    </div>
    
<!--============= Dashboard Section Ends Here =============-->

<!-- <app-footer></app-footer> -->